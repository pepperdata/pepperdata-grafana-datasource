/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
define(["@grafana/data","rxjs","@grafana/runtime","react","@grafana/ui","lodash"], (__WEBPACK_EXTERNAL_MODULE__grafana_data__, __WEBPACK_EXTERNAL_MODULE_rxjs__, __WEBPACK_EXTERNAL_MODULE__grafana_runtime__, __WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE__grafana_ui__, __WEBPACK_EXTERNAL_MODULE_lodash__) => { return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./components/ConfigEditor.tsx":
/*!*************************************!*\
  !*** ./components/ConfigEditor.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigEditor: () => (/* binding */ ConfigEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ \"@grafana/ui\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__);\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\nconst DEFAULT_DASHBOARD_URL = 'https://dashboard.pepperdata.com';\nfunction ConfigEditor(props) {\n    const { onOptionsChange, options } = props;\n    // Set default dashboardUrl on load\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!options.jsonData.dashboardUrl) {\n            onOptionsChange(_object_spread_props(_object_spread({}, options), {\n                jsonData: _object_spread_props(_object_spread({}, options.jsonData), {\n                    dashboardUrl: DEFAULT_DASHBOARD_URL\n                })\n            }));\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const onUrlChange = (event)=>{\n        const jsonData = _object_spread_props(_object_spread({}, options.jsonData), {\n            dashboardUrl: event.target.value\n        });\n        onOptionsChange(_object_spread_props(_object_spread({}, options), {\n            jsonData\n        }));\n    };\n    // Secure field (only sent to the backend)\n    const onAPIKeyIdChange = (event)=>{\n        onOptionsChange(_object_spread_props(_object_spread({}, options), {\n            secureJsonData: {\n                apiKeyId: event.target.value\n            }\n        }));\n    };\n    const onAPIKeyTokenChange = (event)=>{\n        onOptionsChange(_object_spread_props(_object_spread({}, options), {\n            secureJsonData: {\n                apiKeyToken: event.target.value\n            }\n        }));\n    };\n    const onResetAPIKeyId = ()=>{\n        onOptionsChange(_object_spread_props(_object_spread({}, options), {\n            secureJsonFields: _object_spread_props(_object_spread({}, options.secureJsonFields), {\n                apiKeyId: false\n            }),\n            secureJsonData: _object_spread_props(_object_spread({}, options.secureJsonData), {\n                apiKeyId: ''\n            })\n        }));\n    };\n    const onResetAPIKeyToken = ()=>{\n        onOptionsChange(_object_spread_props(_object_spread({}, options), {\n            secureJsonFields: _object_spread_props(_object_spread({}, options.secureJsonFields), {\n                apiKeyToken: false\n            }),\n            secureJsonData: _object_spread_props(_object_spread({}, options.secureJsonData), {\n                apiKeyToken: ''\n            })\n        }));\n    };\n    const { jsonData, secureJsonFields } = options;\n    const secureJsonData = options.secureJsonData || {};\n    const apiKeysUrl = `${jsonData.dashboardUrl}/account/apikeys`;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"gf-form-group\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Dashboard URL\",\n        labelWidth: 20,\n        required: true\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        onChange: onUrlChange,\n        value: jsonData.dashboardUrl,\n        placeholder: \"e.g. https://dashboard.pepperdata.com\",\n        width: 40\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"API Key ID\",\n        labelWidth: 20,\n        required: true,\n        interactive: true,\n        tooltip: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"API keys can be generated here:\", ' ', /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", {\n            href: apiKeysUrl,\n            rel: \"noreferrer\",\n            target: \"_blank\"\n        }, apiKeysUrl))\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.SecretInput, {\n        isConfigured: secureJsonFields && secureJsonFields.apiKeyId,\n        value: secureJsonData.apiKeyId || '',\n        width: 40,\n        onReset: onResetAPIKeyId,\n        onChange: onAPIKeyIdChange\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"API Key Token\",\n        labelWidth: 20,\n        required: true\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.SecretInput, {\n        isConfigured: secureJsonFields && secureJsonFields.apiKeyToken,\n        value: secureJsonData.apiKeyToken || '',\n        width: 40,\n        onReset: onResetAPIKeyToken,\n        onChange: onAPIKeyTokenChange\n    })));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL0NvbmZpZ0VkaXRvci50c3g/YmVkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ2hhbmdlRXZlbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IElubGluZUZpZWxkLCBJbnB1dCwgU2VjcmV0SW5wdXQgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5pbXBvcnQgeyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBNeURhdGFTb3VyY2VPcHRpb25zLCBNeVNlY3VyZUpzb25EYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzPE15RGF0YVNvdXJjZU9wdGlvbnMsIE15U2VjdXJlSnNvbkRhdGE+IHt9XG5cbmNvbnN0IERFRkFVTFRfREFTSEJPQVJEX1VSTCA9ICdodHRwczovL2Rhc2hib2FyZC5wZXBwZXJkYXRhLmNvbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBDb25maWdFZGl0b3IocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHsgb25PcHRpb25zQ2hhbmdlLCBvcHRpb25zIH0gPSBwcm9wcztcblxuICAvLyBTZXQgZGVmYXVsdCBkYXNoYm9hcmRVcmwgb24gbG9hZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghb3B0aW9ucy5qc29uRGF0YS5kYXNoYm9hcmRVcmwpIHtcbiAgICAgIG9uT3B0aW9uc0NoYW5nZSh7IC4uLm9wdGlvbnMsIGpzb25EYXRhOiB7IC4uLm9wdGlvbnMuanNvbkRhdGEsIGRhc2hib2FyZFVybDogREVGQVVMVF9EQVNIQk9BUkRfVVJMIH0gfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG9uVXJsQ2hhbmdlID0gKGV2ZW50OiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGpzb25EYXRhID0ge1xuICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YSxcbiAgICAgIGRhc2hib2FyZFVybDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgIH07XG4gICAgb25PcHRpb25zQ2hhbmdlKHsgLi4ub3B0aW9ucywganNvbkRhdGEgfSk7XG4gIH07XG5cbiAgLy8gU2VjdXJlIGZpZWxkIChvbmx5IHNlbnQgdG8gdGhlIGJhY2tlbmQpXG4gIGNvbnN0IG9uQVBJS2V5SWRDaGFuZ2UgPSAoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgb25PcHRpb25zQ2hhbmdlKHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBzZWN1cmVKc29uRGF0YToge1xuICAgICAgICBhcGlLZXlJZDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBvbkFQSUtleVRva2VuQ2hhbmdlID0gKGV2ZW50OiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIG9uT3B0aW9uc0NoYW5nZSh7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc2VjdXJlSnNvbkRhdGE6IHtcbiAgICAgICAgYXBpS2V5VG9rZW46IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgb25SZXNldEFQSUtleUlkID0gKCkgPT4ge1xuICAgIG9uT3B0aW9uc0NoYW5nZSh7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc2VjdXJlSnNvbkZpZWxkczoge1xuICAgICAgICAuLi5vcHRpb25zLnNlY3VyZUpzb25GaWVsZHMsXG4gICAgICAgIGFwaUtleUlkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBzZWN1cmVKc29uRGF0YToge1xuICAgICAgICAuLi5vcHRpb25zLnNlY3VyZUpzb25EYXRhLFxuICAgICAgICBhcGlLZXlJZDogJycsXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IG9uUmVzZXRBUElLZXlUb2tlbiA9ICgpID0+IHtcbiAgICBvbk9wdGlvbnNDaGFuZ2Uoe1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHNlY3VyZUpzb25GaWVsZHM6IHtcbiAgICAgICAgLi4ub3B0aW9ucy5zZWN1cmVKc29uRmllbGRzLFxuICAgICAgICBhcGlLZXlUb2tlbjogZmFsc2UsXG4gICAgICB9LFxuICAgICAgc2VjdXJlSnNvbkRhdGE6IHtcbiAgICAgICAgLi4ub3B0aW9ucy5zZWN1cmVKc29uRGF0YSxcbiAgICAgICAgYXBpS2V5VG9rZW46ICcnLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB7IGpzb25EYXRhLCBzZWN1cmVKc29uRmllbGRzIH0gPSBvcHRpb25zO1xuICBjb25zdCBzZWN1cmVKc29uRGF0YSA9IChvcHRpb25zLnNlY3VyZUpzb25EYXRhIHx8IHt9KSBhcyBNeVNlY3VyZUpzb25EYXRhO1xuICBjb25zdCBhcGlLZXlzVXJsID0gYCR7anNvbkRhdGEuZGFzaGJvYXJkVXJsfS9hY2NvdW50L2FwaWtleXNgO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtLWdyb3VwXCI+XG4gICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJEYXNoYm9hcmQgVVJMXCIgbGFiZWxXaWR0aD17MjB9IHJlcXVpcmVkPlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICBvbkNoYW5nZT17b25VcmxDaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e2pzb25EYXRhLmRhc2hib2FyZFVybH1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cImUuZy4gaHR0cHM6Ly9kYXNoYm9hcmQucGVwcGVyZGF0YS5jb21cIlxuICAgICAgICAgIHdpZHRoPXs0MH1cbiAgICAgICAgLz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgbGFiZWw9XCJBUEkgS2V5IElEXCJcbiAgICAgICAgbGFiZWxXaWR0aD17MjB9XG4gICAgICAgIHJlcXVpcmVkXG4gICAgICAgIGludGVyYWN0aXZlXG4gICAgICAgIHRvb2x0aXA9e1xuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgQVBJIGtleXMgY2FuIGJlIGdlbmVyYXRlZCBoZXJlOnsnICd9XG4gICAgICAgICAgICA8YSBocmVmPXthcGlLZXlzVXJsfSByZWw9XCJub3JlZmVycmVyXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICAgIHthcGlLZXlzVXJsfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgfVxuICAgICAgPlxuICAgICAgICA8U2VjcmV0SW5wdXRcbiAgICAgICAgICBpc0NvbmZpZ3VyZWQ9eyhzZWN1cmVKc29uRmllbGRzICYmIHNlY3VyZUpzb25GaWVsZHMuYXBpS2V5SWQpIGFzIGJvb2xlYW59XG4gICAgICAgICAgdmFsdWU9e3NlY3VyZUpzb25EYXRhLmFwaUtleUlkIHx8ICcnfVxuICAgICAgICAgIHdpZHRoPXs0MH1cbiAgICAgICAgICBvblJlc2V0PXtvblJlc2V0QVBJS2V5SWR9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQVBJS2V5SWRDaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiQVBJIEtleSBUb2tlblwiIGxhYmVsV2lkdGg9ezIwfSByZXF1aXJlZD5cbiAgICAgICAgPFNlY3JldElucHV0XG4gICAgICAgICAgaXNDb25maWd1cmVkPXsoc2VjdXJlSnNvbkZpZWxkcyAmJiBzZWN1cmVKc29uRmllbGRzLmFwaUtleVRva2VuKSBhcyBib29sZWFufVxuICAgICAgICAgIHZhbHVlPXtzZWN1cmVKc29uRGF0YS5hcGlLZXlUb2tlbiB8fCAnJ31cbiAgICAgICAgICB3aWR0aD17NDB9XG4gICAgICAgICAgb25SZXNldD17b25SZXNldEFQSUtleVRva2VufVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkFQSUtleVRva2VuQ2hhbmdlfVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsIklubGluZUZpZWxkIiwiSW5wdXQiLCJTZWNyZXRJbnB1dCIsIkRFRkFVTFRfREFTSEJPQVJEX1VSTCIsIkNvbmZpZ0VkaXRvciIsInByb3BzIiwib25PcHRpb25zQ2hhbmdlIiwib3B0aW9ucyIsImpzb25EYXRhIiwiZGFzaGJvYXJkVXJsIiwib25VcmxDaGFuZ2UiLCJldmVudCIsInRhcmdldCIsInZhbHVlIiwib25BUElLZXlJZENoYW5nZSIsInNlY3VyZUpzb25EYXRhIiwiYXBpS2V5SWQiLCJvbkFQSUtleVRva2VuQ2hhbmdlIiwiYXBpS2V5VG9rZW4iLCJvblJlc2V0QVBJS2V5SWQiLCJzZWN1cmVKc29uRmllbGRzIiwib25SZXNldEFQSUtleVRva2VuIiwiYXBpS2V5c1VybCIsImRpdiIsImNsYXNzTmFtZSIsImxhYmVsIiwibGFiZWxXaWR0aCIsInJlcXVpcmVkIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsIndpZHRoIiwiaW50ZXJhY3RpdmUiLCJ0b29sdGlwIiwic3BhbiIsImEiLCJocmVmIiwicmVsIiwiaXNDb25maWd1cmVkIiwib25SZXNldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/ConfigEditor.tsx\n");

/***/ }),

/***/ "./components/QueryEditor.tsx":
/*!************************************!*\
  !*** ./components/QueryEditor.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryEditor: () => (/* binding */ QueryEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ \"@grafana/ui\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\n\nconst LABEL_WIDTH = 24;\nconst tagKeyLookup = {\n    host: 'h',\n    user: 'u',\n    'job group': 'c',\n    queue: 'q',\n    'app type': 'apptype',\n    workflow: 'w',\n    job: 'j',\n    'task type': 'tt',\n    'server type': 'svt',\n    'spark type': 'sst',\n    task: 't',\n    device: 'd',\n    'sub-device': 'sd',\n    'inserting host': 'inshost',\n    compression: 'inscomp',\n    'file type': 'instype',\n    'scheduler start': 'ss',\n    version: 'v',\n    region: 'region',\n    table: 'table',\n    namespace: 'namespace'\n};\nconst DEFAULT_DOWNSAMPLER = 'default(fastest)';\nconst downsamplers = [\n    DEFAULT_DOWNSAMPLER,\n    'average',\n    'sum',\n    'maximum',\n    'minimum',\n    'area'\n];\nconst downsamplerOptions = downsamplers.map((operator)=>({\n        label: operator,\n        value: operator\n    }));\nconst tagUrlKeyLookup = lodash__WEBPACK_IMPORTED_MODULE_2___default().invert(tagKeyLookup);\nconst tagOptions = lodash__WEBPACK_IMPORTED_MODULE_2___default()(tagKeyLookup).map((value, key)=>({\n        label: `${value} (${key})`,\n        value\n    })).sortBy('label').value();\nfunction QueryEditor({ query, onChange, onRunQuery, datasource }) {\n    const [tagName, setTagName] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [tagValue, setTagValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n    const theme = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.useTheme2)();\n    const debouncedOnRunQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>lodash__WEBPACK_IMPORTED_MODULE_2___default().debounce(onRunQuery, 500), [\n        onRunQuery\n    ]);\n    const onQueryTextChange = (event)=>{\n        onChange(_object_spread_props(_object_spread({}, query), {\n            queryText: event.target.value\n        }));\n        debouncedOnRunQuery();\n    };\n    const onRealmChange = (event)=>{\n        onChange(_object_spread_props(_object_spread({}, query), {\n            realm: event.target.value\n        }));\n        debouncedOnRunQuery();\n    };\n    const onMetricChange = (event)=>{\n        onChange(_object_spread_props(_object_spread({}, query), {\n            metric: event.target.value\n        }));\n        debouncedOnRunQuery();\n    };\n    const onAliasChange = (event)=>{\n        onChange(_object_spread_props(_object_spread({}, query), {\n            alias: event.target.value\n        }));\n        debouncedOnRunQuery();\n    };\n    const onTagNameChange = (option)=>{\n        if (option.value) {\n            setTagName(option.value);\n        }\n    };\n    const onTagValueChange = (event)=>{\n        setTagValue(event.target.value);\n    };\n    const onAddTag = ()=>{\n        if (tagName) {\n            var _tagKeyLookup_tagName;\n            onChange(_object_spread_props(_object_spread({}, query), {\n                tags: _object_spread_props(_object_spread({}, query.tags), {\n                    [(_tagKeyLookup_tagName = tagKeyLookup[tagName]) !== null && _tagKeyLookup_tagName !== void 0 ? _tagKeyLookup_tagName : tagName]: tagValue\n                })\n            }));\n            setTagName(null);\n            setTagValue('');\n            debouncedOnRunQuery();\n        }\n    };\n    const onRemoveTag = (name)=>{\n        onChange(_object_spread_props(_object_spread({}, query), {\n            tags: lodash__WEBPACK_IMPORTED_MODULE_2___default().omit(query.tags, name)\n        }));\n        debouncedOnRunQuery();\n    };\n    const onDownsamplerChange = (option)=>{\n        onChange(_object_spread({}, query, option.value !== DEFAULT_DOWNSAMPLER && {\n            downsampler: option.value\n        }));\n        debouncedOnRunQuery();\n    };\n    const { queryText, realm, metric, tags, downsampler, alias } = query;\n    const areControlsDisabled = Boolean(queryText);\n    const metricDefinitionsUrl = `${datasource.options.dashboardUrl}/${realm}/metricdefinitions`;\n    var _tagUrlKeyLookup_name;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Realm\",\n        labelWidth: LABEL_WIDTH,\n        required: true,\n        invalid: !realm,\n        error: \"Realm is required\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        onChange: onRealmChange,\n        value: realm,\n        width: 30\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Alias\",\n        labelWidth: LABEL_WIDTH\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        onChange: onAliasChange,\n        value: alias,\n        width: 30\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Query Text\",\n        labelWidth: LABEL_WIDTH,\n        tooltip: \"If you know the metrics API query string you can paste it here, e.g. m=tasks&u=bob&downsampler=maximum. Otherwise, use the fields below to build your query.\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        onChange: onQueryTextChange,\n        value: queryText || '',\n        width: 60\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Metric name\",\n        labelWidth: LABEL_WIDTH,\n        disabled: areControlsDisabled,\n        interactive: true,\n        tooltip: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Metric urlname. Example: tasks, rssram. Simple operations can be performed on metrics using RPN notation. For example if you wanted to divide the ram per task you would do: expr(rssram tasks /).\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", {\n            href: metricDefinitionsUrl,\n            target: \"_blank\",\n            rel: \"noreferrer\"\n        }, \"Click here\"), ' ', \"to see available metric names\")\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        onChange: onMetricChange,\n        value: metric,\n        width: 30,\n        placeholder: \"e.g. rssram\"\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Tags\",\n        labelWidth: LABEL_WIDTH,\n        tooltip: `Select a tag and enter a value to filter by, then click Add to apply. If the tag you need is not\n          in the list, you can type it manually. Set value to \"*\" (no quotes) to return all series.`\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineFieldRow, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        disabled: areControlsDisabled\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Select, {\n        options: tagOptions,\n        onChange: onTagNameChange,\n        value: tagName,\n        placeholder: \"Tag\",\n        width: 30,\n        allowCustomValue: true\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        disabled: areControlsDisabled\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        onChange: onTagValueChange,\n        value: tagValue,\n        placeholder: \"Tag value\",\n        width: 30\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        disabled: areControlsDisabled\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Button, {\n        fill: \"text\",\n        onClick: onAddTag,\n        size: \"md\"\n    }, \"Add\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineFieldRow, null, lodash__WEBPACK_IMPORTED_MODULE_2___default().map(tags, (value, name)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n            key: name,\n            style: {\n                display: 'flex',\n                alignItems: 'center',\n                border: `1px solid ${(0,_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.getTagColorsFromName)(name).color}`,\n                padding: theme.spacing(0, 1),\n                fontWeight: theme.typography.fontWeightMedium,\n                fontSize: theme.typography.size.sm,\n                backgroundColor: theme.colors.background.secondary,\n                height: theme.spacing(theme.components.height.md),\n                lineHeight: theme.spacing(theme.components.height.md),\n                marginRight: theme.spacing(0.5)\n            }\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, (_tagUrlKeyLookup_name = tagUrlKeyLookup[name]) !== null && _tagUrlKeyLookup_name !== void 0 ? _tagUrlKeyLookup_name : name, \" = \", value), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.IconButton, {\n            name: \"times\",\n            style: {\n                marginLeft: 4\n            },\n            onClick: ()=>onRemoveTag(name)\n        })))))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Downsampler override\",\n        labelWidth: LABEL_WIDTH,\n        disabled: areControlsDisabled\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Select, {\n        options: downsamplerOptions,\n        onChange: onDownsamplerChange,\n        value: downsampler !== null && downsampler !== void 0 ? downsampler : DEFAULT_DOWNSAMPLER,\n        width: 30\n    })));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUU7Z0JBQ2xDQyxpQkFBaUIxRCxNQUFNMkQsTUFBTSxDQUFDQyxVQUFVLENBQUNDLFNBQVM7Z0JBQ2xEQyxRQUFROUQsTUFBTW9ELE9BQU8sQ0FBQ3BELE1BQU0rRCxVQUFVLENBQUNELE1BQU0sQ0FBQ0UsRUFBRTtnQkFDaERDLFlBQVlqRSxNQUFNb0QsT0FBTyxDQUFDcEQsTUFBTStELFVBQVUsQ0FBQ0QsTUFBTSxDQUFDRSxFQUFFO2dCQUNwREUsYUFBYWxFLE1BQU1vRCxPQUFPLENBQUM7WUFDN0I7eUJBRUEsMkRBQUNlLGNBQ0VqRixDQUFBQSx3QkFBQUEsZUFBZSxDQUFDaUMsS0FBSyxjQUFyQmpDLG1DQUFBQSx3QkFBeUJpQyxNQUFLLE9BQUlsQyxzQkFFckMsMkRBQUM1QixtREFBVUE7WUFBQzhELE1BQUs7WUFBUTJCLE9BQU87Z0JBQUVzQixZQUFZO1lBQUU7WUFBR3hCLFNBQVMsSUFBTTFCLFlBQVlDOytCQU14RiwyREFBQzdELG9EQUFXQTtRQUFDMEIsT0FBTTtRQUF1QjZDLFlBQVloRTtRQUFhc0UsVUFBVVo7cUJBQzNFLDJEQUFDOUQsK0NBQU1BO1FBQ0xpRSxTQUFTN0M7UUFDVFksVUFBVTRCO1FBQ1ZwQyxPQUFPcUMsd0JBQUFBLHlCQUFBQSxjQUFlM0M7UUFDdEJzRCxPQUFPOztBQUtqQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IudHN4PzBhMDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENoYW5nZUV2ZW50LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIEJ1dHRvbixcbiAgSWNvbkJ1dHRvbixcbiAgSW5saW5lRmllbGQsXG4gIElubGluZUZpZWxkUm93LFxuICBJbnB1dCxcbiAgU2VsZWN0LFxuICBnZXRUYWdDb2xvcnNGcm9tTmFtZSxcbiAgdXNlVGhlbWUyLFxufSBmcm9tICdAZ3JhZmFuYS91aSc7XG5pbXBvcnQgeyBRdWVyeUVkaXRvclByb3BzLCBTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhc291cmNlJztcbmltcG9ydCB7IE15RGF0YVNvdXJjZU9wdGlvbnMsIE15UXVlcnkgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG50eXBlIFByb3BzID0gUXVlcnlFZGl0b3JQcm9wczxEYXRhU291cmNlLCBNeVF1ZXJ5LCBNeURhdGFTb3VyY2VPcHRpb25zPjtcblxuY29uc3QgTEFCRUxfV0lEVEggPSAyNDtcbmNvbnN0IHRhZ0tleUxvb2t1cDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgaG9zdDogJ2gnLFxuICB1c2VyOiAndScsXG4gICdqb2IgZ3JvdXAnOiAnYycsXG4gIHF1ZXVlOiAncScsXG4gICdhcHAgdHlwZSc6ICdhcHB0eXBlJyxcbiAgd29ya2Zsb3c6ICd3JyxcbiAgam9iOiAnaicsXG4gICd0YXNrIHR5cGUnOiAndHQnLFxuICAnc2VydmVyIHR5cGUnOiAnc3Z0JyxcbiAgJ3NwYXJrIHR5cGUnOiAnc3N0JyxcbiAgdGFzazogJ3QnLFxuICBkZXZpY2U6ICdkJyxcbiAgJ3N1Yi1kZXZpY2UnOiAnc2QnLFxuICAnaW5zZXJ0aW5nIGhvc3QnOiAnaW5zaG9zdCcsXG4gIGNvbXByZXNzaW9uOiAnaW5zY29tcCcsXG4gICdmaWxlIHR5cGUnOiAnaW5zdHlwZScsXG4gICdzY2hlZHVsZXIgc3RhcnQnOiAnc3MnLFxuICB2ZXJzaW9uOiAndicsXG4gIHJlZ2lvbjogJ3JlZ2lvbicsXG4gIHRhYmxlOiAndGFibGUnLFxuICBuYW1lc3BhY2U6ICduYW1lc3BhY2UnLFxufTtcbmNvbnN0IERFRkFVTFRfRE9XTlNBTVBMRVIgPSAnZGVmYXVsdChmYXN0ZXN0KSc7XG5jb25zdCBkb3duc2FtcGxlcnMgPSBbREVGQVVMVF9ET1dOU0FNUExFUiwgJ2F2ZXJhZ2UnLCAnc3VtJywgJ21heGltdW0nLCAnbWluaW11bScsICdhcmVhJ107XG5jb25zdCBkb3duc2FtcGxlck9wdGlvbnMgPSBkb3duc2FtcGxlcnMubWFwKChvcGVyYXRvcikgPT4gKHsgbGFiZWw6IG9wZXJhdG9yLCB2YWx1ZTogb3BlcmF0b3IgfSkpO1xuXG5jb25zdCB0YWdVcmxLZXlMb29rdXAgPSBfLmludmVydCh0YWdLZXlMb29rdXApO1xuY29uc3QgdGFnT3B0aW9ucyA9IF8odGFnS2V5TG9va3VwKVxuICAubWFwKCh2YWx1ZSwga2V5KSA9PiAoe1xuICAgIGxhYmVsOiBgJHt2YWx1ZX0gKCR7a2V5fSlgLFxuICAgIHZhbHVlLFxuICB9KSlcbiAgLnNvcnRCeSgnbGFiZWwnKVxuICAudmFsdWUoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIFF1ZXJ5RWRpdG9yKHsgcXVlcnksIG9uQ2hhbmdlLCBvblJ1blF1ZXJ5LCBkYXRhc291cmNlIH06IFByb3BzKSB7XG4gIGNvbnN0IFt0YWdOYW1lLCBzZXRUYWdOYW1lXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdGFnVmFsdWUsIHNldFRhZ1ZhbHVlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZTIoKTtcblxuICBjb25zdCBkZWJvdW5jZWRPblJ1blF1ZXJ5ID0gdXNlTWVtbygoKSA9PiBfLmRlYm91bmNlKG9uUnVuUXVlcnksIDUwMCksIFtvblJ1blF1ZXJ5XSk7XG5cbiAgY29uc3Qgb25RdWVyeVRleHRDaGFuZ2UgPSAoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgcXVlcnlUZXh0OiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgZGVib3VuY2VkT25SdW5RdWVyeSgpO1xuICB9O1xuXG4gIGNvbnN0IG9uUmVhbG1DaGFuZ2UgPSAoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgcmVhbG06IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICBkZWJvdW5jZWRPblJ1blF1ZXJ5KCk7XG4gIH07XG5cbiAgY29uc3Qgb25NZXRyaWNDaGFuZ2UgPSAoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgbWV0cmljOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgZGVib3VuY2VkT25SdW5RdWVyeSgpO1xuICB9O1xuXG4gIGNvbnN0IG9uQWxpYXNDaGFuZ2UgPSAoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgYWxpYXM6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICBkZWJvdW5jZWRPblJ1blF1ZXJ5KCk7XG4gIH07XG5cbiAgY29uc3Qgb25UYWdOYW1lQ2hhbmdlID0gKG9wdGlvbjogU2VsZWN0YWJsZVZhbHVlPHN0cmluZz4pID0+IHtcbiAgICBpZiAob3B0aW9uLnZhbHVlKSB7XG4gICAgICBzZXRUYWdOYW1lKG9wdGlvbi52YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uVGFnVmFsdWVDaGFuZ2UgPSAoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgc2V0VGFnVmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBjb25zdCBvbkFkZFRhZyA9ICgpID0+IHtcbiAgICBpZiAodGFnTmFtZSkge1xuICAgICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgdGFnczogeyAuLi5xdWVyeS50YWdzLCBbdGFnS2V5TG9va3VwW3RhZ05hbWVdID8/IHRhZ05hbWVdOiB0YWdWYWx1ZSB9IH0pO1xuICAgICAgc2V0VGFnTmFtZShudWxsKTtcbiAgICAgIHNldFRhZ1ZhbHVlKCcnKTtcbiAgICAgIGRlYm91bmNlZE9uUnVuUXVlcnkoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb25SZW1vdmVUYWcgPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgdGFnczogXy5vbWl0KHF1ZXJ5LnRhZ3MsIG5hbWUpIH0pO1xuICAgIGRlYm91bmNlZE9uUnVuUXVlcnkoKTtcbiAgfTtcblxuICBjb25zdCBvbkRvd25zYW1wbGVyQ2hhbmdlID0gKG9wdGlvbjogU2VsZWN0YWJsZVZhbHVlPHN0cmluZz4pID0+IHtcbiAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCAuLi4ob3B0aW9uLnZhbHVlICE9PSBERUZBVUxUX0RPV05TQU1QTEVSICYmIHsgZG93bnNhbXBsZXI6IG9wdGlvbi52YWx1ZSB9KSB9KTtcbiAgICBkZWJvdW5jZWRPblJ1blF1ZXJ5KCk7XG4gIH07XG5cbiAgY29uc3QgeyBxdWVyeVRleHQsIHJlYWxtLCBtZXRyaWMsIHRhZ3MsIGRvd25zYW1wbGVyLCBhbGlhcyB9ID0gcXVlcnk7XG4gIGNvbnN0IGFyZUNvbnRyb2xzRGlzYWJsZWQgPSBCb29sZWFuKHF1ZXJ5VGV4dCk7XG4gIGNvbnN0IG1ldHJpY0RlZmluaXRpb25zVXJsID0gYCR7ZGF0YXNvdXJjZS5vcHRpb25zLmRhc2hib2FyZFVybH0vJHtyZWFsbX0vbWV0cmljZGVmaW5pdGlvbnNgO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlJlYWxtXCIgbGFiZWxXaWR0aD17TEFCRUxfV0lEVEh9IHJlcXVpcmVkIGludmFsaWQ9eyFyZWFsbX0gZXJyb3I9XCJSZWFsbSBpcyByZXF1aXJlZFwiPlxuICAgICAgICA8SW5wdXQgb25DaGFuZ2U9e29uUmVhbG1DaGFuZ2V9IHZhbHVlPXtyZWFsbX0gd2lkdGg9ezMwfSAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIkFsaWFzXCIgbGFiZWxXaWR0aD17TEFCRUxfV0lEVEh9PlxuICAgICAgICA8SW5wdXQgb25DaGFuZ2U9e29uQWxpYXNDaGFuZ2V9IHZhbHVlPXthbGlhc30gd2lkdGg9ezMwfSAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgIDxJbmxpbmVGaWVsZFxuICAgICAgICBsYWJlbD1cIlF1ZXJ5IFRleHRcIlxuICAgICAgICBsYWJlbFdpZHRoPXtMQUJFTF9XSURUSH1cbiAgICAgICAgdG9vbHRpcD1cIklmIHlvdSBrbm93IHRoZSBtZXRyaWNzIEFQSSBxdWVyeVxuICAgICAgICBzdHJpbmcgeW91IGNhbiBwYXN0ZSBpdCBoZXJlLCBlLmcuIG09dGFza3MmdT1ib2ImZG93bnNhbXBsZXI9bWF4aW11bS4gT3RoZXJ3aXNlLCB1c2UgdGhlIGZpZWxkc1xuICAgICAgICBiZWxvdyB0byBidWlsZCB5b3VyIHF1ZXJ5LlwiXG4gICAgICA+XG4gICAgICAgIDxJbnB1dCBvbkNoYW5nZT17b25RdWVyeVRleHRDaGFuZ2V9IHZhbHVlPXtxdWVyeVRleHQgfHwgJyd9IHdpZHRoPXs2MH0gLz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgbGFiZWw9XCJNZXRyaWMgbmFtZVwiXG4gICAgICAgIGxhYmVsV2lkdGg9e0xBQkVMX1dJRFRIfVxuICAgICAgICBkaXNhYmxlZD17YXJlQ29udHJvbHNEaXNhYmxlZH1cbiAgICAgICAgaW50ZXJhY3RpdmVcbiAgICAgICAgdG9vbHRpcD17XG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICBNZXRyaWMgdXJsbmFtZS4gRXhhbXBsZTogdGFza3MsIHJzc3JhbS4gU2ltcGxlIG9wZXJhdGlvbnMgY2FuIGJlIHBlcmZvcm1lZCBvbiBtZXRyaWNzIHVzaW5nIFJQTiBub3RhdGlvbi5cbiAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgaWYgeW91IHdhbnRlZCB0byBkaXZpZGUgdGhlIHJhbSBwZXIgdGFzayB5b3Ugd291bGQgZG86IGV4cHIocnNzcmFtIHRhc2tzIC8pLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGEgaHJlZj17bWV0cmljRGVmaW5pdGlvbnNVcmx9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vcmVmZXJyZXJcIj5cbiAgICAgICAgICAgICAgQ2xpY2sgaGVyZVxuICAgICAgICAgICAgPC9hPnsnICd9XG4gICAgICAgICAgICB0byBzZWUgYXZhaWxhYmxlIG1ldHJpYyBuYW1lc1xuICAgICAgICAgIDwvPlxuICAgICAgICB9XG4gICAgICA+XG4gICAgICAgIDxJbnB1dCBvbkNoYW5nZT17b25NZXRyaWNDaGFuZ2V9IHZhbHVlPXttZXRyaWN9IHdpZHRoPXszMH0gcGxhY2Vob2xkZXI9XCJlLmcuIHJzc3JhbVwiIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgPElubGluZUZpZWxkXG4gICAgICAgIGxhYmVsPVwiVGFnc1wiXG4gICAgICAgIGxhYmVsV2lkdGg9e0xBQkVMX1dJRFRIfVxuICAgICAgICB0b29sdGlwPXtgU2VsZWN0IGEgdGFnIGFuZCBlbnRlciBhIHZhbHVlIHRvIGZpbHRlciBieSwgdGhlbiBjbGljayBBZGQgdG8gYXBwbHkuIElmIHRoZSB0YWcgeW91IG5lZWQgaXMgbm90XG4gICAgICAgICAgaW4gdGhlIGxpc3QsIHlvdSBjYW4gdHlwZSBpdCBtYW51YWxseS4gU2V0IHZhbHVlIHRvIFwiKlwiIChubyBxdW90ZXMpIHRvIHJldHVybiBhbGwgc2VyaWVzLmB9XG4gICAgICA+XG4gICAgICAgIDw+XG4gICAgICAgICAgPElubGluZUZpZWxkUm93PlxuICAgICAgICAgICAgPElubGluZUZpZWxkIGRpc2FibGVkPXthcmVDb250cm9sc0Rpc2FibGVkfT5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e3RhZ09wdGlvbnN9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uVGFnTmFtZUNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGFnTmFtZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRhZ1wiXG4gICAgICAgICAgICAgICAgd2lkdGg9ezMwfVxuICAgICAgICAgICAgICAgIGFsbG93Q3VzdG9tVmFsdWU9e3RydWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICAgICAgPElubGluZUZpZWxkIGRpc2FibGVkPXthcmVDb250cm9sc0Rpc2FibGVkfT5cbiAgICAgICAgICAgICAgPElucHV0IG9uQ2hhbmdlPXtvblRhZ1ZhbHVlQ2hhbmdlfSB2YWx1ZT17dGFnVmFsdWV9IHBsYWNlaG9sZGVyPVwiVGFnIHZhbHVlXCIgd2lkdGg9ezMwfSAvPlxuICAgICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgICAgIDxJbmxpbmVGaWVsZCBkaXNhYmxlZD17YXJlQ29udHJvbHNEaXNhYmxlZH0+XG4gICAgICAgICAgICAgIDxCdXR0b24gZmlsbD1cInRleHRcIiBvbkNsaWNrPXtvbkFkZFRhZ30gc2l6ZT1cIm1kXCI+XG4gICAgICAgICAgICAgICAgQWRkXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgICAgICAgIDxJbmxpbmVGaWVsZFJvdz5cbiAgICAgICAgICAgIHtfLm1hcCh0YWdzLCAodmFsdWUsIG5hbWUpID0+IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17bmFtZX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtnZXRUYWdDb2xvcnNGcm9tTmFtZShuYW1lKS5jb2xvcn1gLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZygwLCAxKSxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodE1lZGl1bSxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LnNpemUuc20sXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kLnNlY29uZGFyeSxcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhlbWUuc3BhY2luZyh0aGVtZS5jb21wb25lbnRzLmhlaWdodC5tZCksXG4gICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiB0aGVtZS5zcGFjaW5nKHRoZW1lLmNvbXBvbmVudHMuaGVpZ2h0Lm1kKSxcbiAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiB0aGVtZS5zcGFjaW5nKDAuNSksXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAge3RhZ1VybEtleUxvb2t1cFtuYW1lXSA/PyBuYW1lfSA9IHt2YWx1ZX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPEljb25CdXR0b24gbmFtZT1cInRpbWVzXCIgc3R5bGU9e3sgbWFyZ2luTGVmdDogNCB9fSBvbkNsaWNrPXsoKSA9PiBvblJlbW92ZVRhZyhuYW1lKX0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgICAgICA8Lz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJEb3duc2FtcGxlciBvdmVycmlkZVwiIGxhYmVsV2lkdGg9e0xBQkVMX1dJRFRIfSBkaXNhYmxlZD17YXJlQ29udHJvbHNEaXNhYmxlZH0+XG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICBvcHRpb25zPXtkb3duc2FtcGxlck9wdGlvbnN9XG4gICAgICAgICAgb25DaGFuZ2U9e29uRG93bnNhbXBsZXJDaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e2Rvd25zYW1wbGVyID8/IERFRkFVTFRfRE9XTlNBTVBMRVJ9XG4gICAgICAgICAgd2lkdGg9ezMwfVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkJ1dHRvbiIsIkljb25CdXR0b24iLCJJbmxpbmVGaWVsZCIsIklubGluZUZpZWxkUm93IiwiSW5wdXQiLCJTZWxlY3QiLCJnZXRUYWdDb2xvcnNGcm9tTmFtZSIsInVzZVRoZW1lMiIsIl8iLCJMQUJFTF9XSURUSCIsInRhZ0tleUxvb2t1cCIsImhvc3QiLCJ1c2VyIiwicXVldWUiLCJ3b3JrZmxvdyIsImpvYiIsInRhc2siLCJkZXZpY2UiLCJjb21wcmVzc2lvbiIsInZlcnNpb24iLCJyZWdpb24iLCJ0YWJsZSIsIm5hbWVzcGFjZSIsIkRFRkFVTFRfRE9XTlNBTVBMRVIiLCJkb3duc2FtcGxlcnMiLCJkb3duc2FtcGxlck9wdGlvbnMiLCJtYXAiLCJvcGVyYXRvciIsImxhYmVsIiwidmFsdWUiLCJ0YWdVcmxLZXlMb29rdXAiLCJpbnZlcnQiLCJ0YWdPcHRpb25zIiwia2V5Iiwic29ydEJ5IiwiUXVlcnlFZGl0b3IiLCJxdWVyeSIsIm9uQ2hhbmdlIiwib25SdW5RdWVyeSIsImRhdGFzb3VyY2UiLCJ0YWdOYW1lIiwic2V0VGFnTmFtZSIsInRhZ1ZhbHVlIiwic2V0VGFnVmFsdWUiLCJ0aGVtZSIsImRlYm91bmNlZE9uUnVuUXVlcnkiLCJkZWJvdW5jZSIsIm9uUXVlcnlUZXh0Q2hhbmdlIiwiZXZlbnQiLCJxdWVyeVRleHQiLCJ0YXJnZXQiLCJvblJlYWxtQ2hhbmdlIiwicmVhbG0iLCJvbk1ldHJpY0NoYW5nZSIsIm1ldHJpYyIsIm9uQWxpYXNDaGFuZ2UiLCJhbGlhcyIsIm9uVGFnTmFtZUNoYW5nZSIsIm9wdGlvbiIsIm9uVGFnVmFsdWVDaGFuZ2UiLCJvbkFkZFRhZyIsInRhZ3MiLCJvblJlbW92ZVRhZyIsIm5hbWUiLCJvbWl0Iiwib25Eb3duc2FtcGxlckNoYW5nZSIsImRvd25zYW1wbGVyIiwiYXJlQ29udHJvbHNEaXNhYmxlZCIsIkJvb2xlYW4iLCJtZXRyaWNEZWZpbml0aW9uc1VybCIsIm9wdGlvbnMiLCJkYXNoYm9hcmRVcmwiLCJkaXYiLCJsYWJlbFdpZHRoIiwicmVxdWlyZWQiLCJpbnZhbGlkIiwiZXJyb3IiLCJ3aWR0aCIsInRvb2x0aXAiLCJkaXNhYmxlZCIsImludGVyYWN0aXZlIiwicCIsImEiLCJocmVmIiwicmVsIiwicGxhY2Vob2xkZXIiLCJhbGxvd0N1c3RvbVZhbHVlIiwiZmlsbCIsIm9uQ2xpY2siLCJzaXplIiwic3R5bGUiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImJvcmRlciIsImNvbG9yIiwicGFkZGluZyIsInNwYWNpbmciLCJmb250V2VpZ2h0IiwidHlwb2dyYXBoeSIsImZvbnRXZWlnaHRNZWRpdW0iLCJmb250U2l6ZSIsInNtIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3JzIiwiYmFja2dyb3VuZCIsInNlY29uZGFyeSIsImhlaWdodCIsImNvbXBvbmVudHMiLCJtZCIsImxpbmVIZWlnaHQiLCJtYXJnaW5SaWdodCIsInNwYW4iLCJtYXJnaW5MZWZ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/QueryEditor.tsx\n");

/***/ }),

/***/ "./datasource.ts":
/*!***********************!*\
  !*** ./datasource.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataSource: () => (/* binding */ DataSource)\n/* harmony export */ });\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @grafana/data */ \"@grafana/data\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_grafana_data__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"rxjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/runtime */ \"@grafana/runtime\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\n\n\n\nclass DataSource extends _grafana_data__WEBPACK_IMPORTED_MODULE_0__.DataSourceApi {\n    fetchMetric(realm, metricParams) {\n        if (realm) {\n            const result = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.getBackendSrv)().fetch({\n                method: 'GET',\n                url: `${this.url}/api/${realm}/api/m`,\n                params: _object_spread({\n                    // Remove points without enough hosts reporting\n                    removeincomplete: 1,\n                    omitpoints: 'null'\n                }, metricParams)\n            });\n            return result;\n        }\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)();\n    }\n    query(options) {\n        const { range } = options;\n        const from = range.from.valueOf();\n        const to = range.to.valueOf();\n        const rangeMs = options.range.to.valueOf() - options.range.from.valueOf();\n        const sample = Math.max(10000, options.maxDataPoints ? Math.round(rangeMs / options.maxDataPoints) : 0);\n        const dataFrames = options.targets.filter((target)=>!target.hide).map((target)=>{\n            const { downsampler, tags, metric, alias, queryText } = target;\n            const paramsFromQueryText = Object.fromEntries(new URLSearchParams(queryText));\n            var _target_realm;\n            return this.fetchMetric((_target_realm = target.realm) !== null && _target_realm !== void 0 ? _target_realm : '', _object_spread({\n                sample,\n                s: from,\n                e: to\n            }, queryText ? paramsFromQueryText : _object_spread({\n                m: metric\n            }, downsampler && {\n                downsampler\n            }, tags))).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_1__.map)((response)=>{\n                const numSeries = response.data.data.allSeries.length;\n                const frames = response.data.data.allSeries.map(({ dataPoints, seriesId })=>{\n                    const frame = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_0__.toDataFrame)(dataPoints.filter((dp)=>dp).map(([timestamp, value])=>({\n                            Time: timestamp * 1000,\n                            Value: value\n                        })));\n                    frame.name = alias ? `${alias} ${numSeries > 1 ? seriesId : ''}` : seriesId;\n                    frame.refId = target.refId;\n                    return frame;\n                });\n                return {\n                    data: frames\n                };\n            }), (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.catchError)((error)=>{\n                console.log(error);\n                return (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)();\n            }));\n        });\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.merge)(...dataFrames);\n    }\n    testDatasource() {\n        var _this = this;\n        return _async_to_generator(function*() {\n            const faviconObservable = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.getBackendSrv)().fetch({\n                method: 'GET',\n                url: `${_this.url}/api/favicon.ico`\n            });\n            const response = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.lastValueFrom)(faviconObservable);\n            if (response.status === 200) {\n                return {\n                    status: 'success',\n                    message: 'Data source is connected.'\n                };\n            }\n            return {\n                status: 'error',\n                message: 'Could not connect to data source.'\n            };\n        })();\n    }\n    constructor(instanceSettings){\n        super(instanceSettings);\n        _define_property(this, \"url\", void 0);\n        _define_property(this, \"options\", void 0);\n        this.url = instanceSettings.url;\n        this.options = instanceSettings.jsonData;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU9GLDJDQUFLQSxJQUFJNEI7SUFDbEI7SUFFTXFDOztlQUFOO1lBQ0UsTUFBTUMsb0JBQW9COUQsK0RBQWFBLEdBQUdNLEtBQUssQ0FBQztnQkFDOUNDLFFBQVE7Z0JBQ1JDLEtBQUssQ0FBQyxFQUFFLE1BQUtBLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztZQUNwQztZQUNBLE1BQU1rQyxXQUFXLE1BQU0zQyxtREFBYUEsQ0FBQytEO1lBRXJDLElBQUlwQixTQUFTcUIsTUFBTSxLQUFLLEtBQUs7Z0JBQzNCLE9BQU87b0JBQ0xBLFFBQVE7b0JBQ1JDLFNBQVM7Z0JBQ1g7WUFDRjtZQUVBLE9BQU87Z0JBQ0xELFFBQVE7Z0JBQ1JDLFNBQVM7WUFDWDtRQUNGOztJQWxHQUMsWUFBWUMsZ0JBQWlFLENBQUU7UUFDN0UsS0FBSyxDQUFDQTtRQUpSMUQsdUJBQUFBLE9BQUFBLEtBQUFBO1FBQ0FLLHVCQUFBQSxXQUFBQSxLQUFBQTtRQUtFLElBQUksQ0FBQ0wsR0FBRyxHQUFHMEQsaUJBQWlCMUQsR0FBRztRQUMvQixJQUFJLENBQUNLLE9BQU8sR0FBR3FELGlCQUFpQkMsUUFBUTtJQUMxQztBQThGRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2RhdGFzb3VyY2UudHM/ZWFiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhUXVlcnlSZXF1ZXN0LCBEYXRhU291cmNlQXBpLCBEYXRhU291cmNlSW5zdGFuY2VTZXR0aW5ncywgdG9EYXRhRnJhbWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IG1hcCwgbWVyZ2UsIGNhdGNoRXJyb3IsIG9mLCBsYXN0VmFsdWVGcm9tIH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IE15UXVlcnksIE15RGF0YVNvdXJjZU9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBnZXRCYWNrZW5kU3J2IH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5cbmV4cG9ydCBjbGFzcyBEYXRhU291cmNlIGV4dGVuZHMgRGF0YVNvdXJjZUFwaTxNeVF1ZXJ5LCBNeURhdGFTb3VyY2VPcHRpb25zPiB7XG4gIHVybD86IHN0cmluZztcbiAgb3B0aW9uczogTXlEYXRhU291cmNlT3B0aW9ucztcblxuICBjb25zdHJ1Y3RvcihpbnN0YW5jZVNldHRpbmdzOiBEYXRhU291cmNlSW5zdGFuY2VTZXR0aW5nczxNeURhdGFTb3VyY2VPcHRpb25zPikge1xuICAgIHN1cGVyKGluc3RhbmNlU2V0dGluZ3MpO1xuXG4gICAgdGhpcy51cmwgPSBpbnN0YW5jZVNldHRpbmdzLnVybDtcbiAgICB0aGlzLm9wdGlvbnMgPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhO1xuICB9XG5cbiAgZmV0Y2hNZXRyaWMocmVhbG06IHN0cmluZywgbWV0cmljUGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgaWYgKHJlYWxtKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBnZXRCYWNrZW5kU3J2KCkuZmV0Y2goe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IGAke3RoaXMudXJsfS9hcGkvJHtyZWFsbX0vYXBpL21gLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAvLyBSZW1vdmUgcG9pbnRzIHdpdGhvdXQgZW5vdWdoIGhvc3RzIHJlcG9ydGluZ1xuICAgICAgICAgIHJlbW92ZWluY29tcGxldGU6IDEsXG4gICAgICAgICAgb21pdHBvaW50czogJ251bGwnLFxuICAgICAgICAgIC4uLm1ldHJpY1BhcmFtcyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gb2YoKTtcbiAgfVxuXG4gIHF1ZXJ5KG9wdGlvbnM6IERhdGFRdWVyeVJlcXVlc3Q8TXlRdWVyeT4pIHtcbiAgICBjb25zdCB7IHJhbmdlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGZyb20gPSByYW5nZSEuZnJvbS52YWx1ZU9mKCk7XG4gICAgY29uc3QgdG8gPSByYW5nZSEudG8udmFsdWVPZigpO1xuICAgIGNvbnN0IHJhbmdlTXMgPSBvcHRpb25zLnJhbmdlLnRvLnZhbHVlT2YoKSAtIG9wdGlvbnMucmFuZ2UuZnJvbS52YWx1ZU9mKCk7XG4gICAgY29uc3Qgc2FtcGxlID0gTWF0aC5tYXgoMTAwMDAsIG9wdGlvbnMubWF4RGF0YVBvaW50cyA/IE1hdGgucm91bmQocmFuZ2VNcyAvIG9wdGlvbnMubWF4RGF0YVBvaW50cykgOiAwKTtcblxuICAgIGNvbnN0IGRhdGFGcmFtZXMgPSBvcHRpb25zLnRhcmdldHNcbiAgICAgIC5maWx0ZXIoKHRhcmdldCkgPT4gIXRhcmdldC5oaWRlKVxuICAgICAgLm1hcCgodGFyZ2V0KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZG93bnNhbXBsZXIsIHRhZ3MsIG1ldHJpYywgYWxpYXMsIHF1ZXJ5VGV4dCB9ID0gdGFyZ2V0O1xuICAgICAgICBjb25zdCBwYXJhbXNGcm9tUXVlcnlUZXh0ID0gT2JqZWN0LmZyb21FbnRyaWVzKG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlUZXh0KSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoTWV0cmljKHRhcmdldC5yZWFsbSA/PyAnJywge1xuICAgICAgICAgIHNhbXBsZSxcbiAgICAgICAgICBzOiBmcm9tLFxuICAgICAgICAgIGU6IHRvLFxuICAgICAgICAgIC4uLihxdWVyeVRleHRcbiAgICAgICAgICAgID8gcGFyYW1zRnJvbVF1ZXJ5VGV4dFxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgbTogbWV0cmljLFxuICAgICAgICAgICAgICAgIC4uLihkb3duc2FtcGxlciAmJiB7IGRvd25zYW1wbGVyIH0pLFxuICAgICAgICAgICAgICAgIC4uLnRhZ3MsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICB9KS5waXBlKFxuICAgICAgICAgIG1hcCgocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbnVtU2VyaWVzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmFsbFNlcmllcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBmcmFtZXMgPSByZXNwb25zZS5kYXRhLmRhdGEuYWxsU2VyaWVzLm1hcChcbiAgICAgICAgICAgICAgKHsgZGF0YVBvaW50cywgc2VyaWVzSWQgfTogeyBkYXRhUG9pbnRzOiBudW1iZXJbXVtdOyBzZXJpZXNJZDogc3RyaW5nIH0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZSA9IHRvRGF0YUZyYW1lKFxuICAgICAgICAgICAgICAgICAgZGF0YVBvaW50c1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChkcCkgPT4gZHApXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKFt0aW1lc3RhbXAsIHZhbHVlXSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICBUaW1lOiB0aW1lc3RhbXAgKiAxMDAwLFxuICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmcmFtZS5uYW1lID0gYWxpYXMgPyBgJHthbGlhc30gJHtudW1TZXJpZXMgPiAxID8gc2VyaWVzSWQgOiAnJ31gIDogc2VyaWVzSWQ7XG4gICAgICAgICAgICAgICAgZnJhbWUucmVmSWQgPSB0YXJnZXQucmVmSWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBmcmFtZXMgfTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjYXRjaEVycm9yKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuXG4gICAgICAgICAgICByZXR1cm4gb2YoKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gbWVyZ2UoLi4uZGF0YUZyYW1lcyk7XG4gIH1cblxuICBhc3luYyB0ZXN0RGF0YXNvdXJjZSgpIHtcbiAgICBjb25zdCBmYXZpY29uT2JzZXJ2YWJsZSA9IGdldEJhY2tlbmRTcnYoKS5mZXRjaCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiBgJHt0aGlzLnVybH0vYXBpL2Zhdmljb24uaWNvYCxcbiAgICB9KTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxhc3RWYWx1ZUZyb20oZmF2aWNvbk9ic2VydmFibGUpO1xuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ0RhdGEgc291cmNlIGlzIGNvbm5lY3RlZC4nLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgbWVzc2FnZTogJ0NvdWxkIG5vdCBjb25uZWN0IHRvIGRhdGEgc291cmNlLicsXG4gICAgfTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkRhdGFTb3VyY2VBcGkiLCJ0b0RhdGFGcmFtZSIsIm1hcCIsIm1lcmdlIiwiY2F0Y2hFcnJvciIsIm9mIiwibGFzdFZhbHVlRnJvbSIsImdldEJhY2tlbmRTcnYiLCJEYXRhU291cmNlIiwiZmV0Y2hNZXRyaWMiLCJyZWFsbSIsIm1ldHJpY1BhcmFtcyIsInJlc3VsdCIsImZldGNoIiwibWV0aG9kIiwidXJsIiwicGFyYW1zIiwicmVtb3ZlaW5jb21wbGV0ZSIsIm9taXRwb2ludHMiLCJxdWVyeSIsIm9wdGlvbnMiLCJyYW5nZSIsImZyb20iLCJ2YWx1ZU9mIiwidG8iLCJyYW5nZU1zIiwic2FtcGxlIiwiTWF0aCIsIm1heCIsIm1heERhdGFQb2ludHMiLCJyb3VuZCIsImRhdGFGcmFtZXMiLCJ0YXJnZXRzIiwiZmlsdGVyIiwidGFyZ2V0IiwiaGlkZSIsImRvd25zYW1wbGVyIiwidGFncyIsIm1ldHJpYyIsImFsaWFzIiwicXVlcnlUZXh0IiwicGFyYW1zRnJvbVF1ZXJ5VGV4dCIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiVVJMU2VhcmNoUGFyYW1zIiwicyIsImUiLCJtIiwicGlwZSIsInJlc3BvbnNlIiwibnVtU2VyaWVzIiwiZGF0YSIsImFsbFNlcmllcyIsImxlbmd0aCIsImZyYW1lcyIsImRhdGFQb2ludHMiLCJzZXJpZXNJZCIsImZyYW1lIiwiZHAiLCJ0aW1lc3RhbXAiLCJ2YWx1ZSIsIlRpbWUiLCJWYWx1ZSIsIm5hbWUiLCJyZWZJZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInRlc3REYXRhc291cmNlIiwiZmF2aWNvbk9ic2VydmFibGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZVNldHRpbmdzIiwianNvbkRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./datasource.ts\n");

/***/ }),

/***/ "./module.ts":
/*!*******************!*\
  !*** ./module.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   plugin: () => (/* binding */ plugin)\n/* harmony export */ });\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @grafana/data */ \"@grafana/data\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_grafana_data__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _datasource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./datasource */ \"./datasource.ts\");\n/* harmony import */ var _components_ConfigEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/ConfigEditor */ \"./components/ConfigEditor.tsx\");\n/* harmony import */ var _components_QueryEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/QueryEditor */ \"./components/QueryEditor.tsx\");\n\n\n\n\nconst plugin = new _grafana_data__WEBPACK_IMPORTED_MODULE_0__.DataSourcePlugin(_datasource__WEBPACK_IMPORTED_MODULE_1__.DataSource).setConfigEditor(_components_ConfigEditor__WEBPACK_IMPORTED_MODULE_2__.ConfigEditor).setQueryEditor(_components_QueryEditor__WEBPACK_IMPORTED_MODULE_3__.QueryEditor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tb2R1bGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlEO0FBQ1A7QUFDZTtBQUNGO0FBR2hELE1BQU1JLFNBQVMsSUFBSUosMkRBQWdCQSxDQUEyQ0MsbURBQVVBLEVBQzVGSSxlQUFlLENBQUNILGtFQUFZQSxFQUM1QkksY0FBYyxDQUFDSCxnRUFBV0EsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL21vZHVsZS50cz9jMjE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFTb3VyY2VQbHVnaW4gfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICcuL2RhdGFzb3VyY2UnO1xuaW1wb3J0IHsgQ29uZmlnRWRpdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL0NvbmZpZ0VkaXRvcic7XG5pbXBvcnQgeyBRdWVyeUVkaXRvciB9IGZyb20gJy4vY29tcG9uZW50cy9RdWVyeUVkaXRvcic7XG5pbXBvcnQgeyBNeVF1ZXJ5LCBNeURhdGFTb3VyY2VPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBwbHVnaW4gPSBuZXcgRGF0YVNvdXJjZVBsdWdpbjxEYXRhU291cmNlLCBNeVF1ZXJ5LCBNeURhdGFTb3VyY2VPcHRpb25zPihEYXRhU291cmNlKVxuICAuc2V0Q29uZmlnRWRpdG9yKENvbmZpZ0VkaXRvcilcbiAgLnNldFF1ZXJ5RWRpdG9yKFF1ZXJ5RWRpdG9yKTtcbiJdLCJuYW1lcyI6WyJEYXRhU291cmNlUGx1Z2luIiwiRGF0YVNvdXJjZSIsIkNvbmZpZ0VkaXRvciIsIlF1ZXJ5RWRpdG9yIiwicGx1Z2luIiwic2V0Q29uZmlnRWRpdG9yIiwic2V0UXVlcnlFZGl0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./module.ts\n");

/***/ }),

/***/ "@grafana/data":
/*!********************************!*\
  !*** external "@grafana/data" ***!
  \********************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;

/***/ }),

/***/ "@grafana/runtime":
/*!***********************************!*\
  !*** external "@grafana/runtime" ***!
  \***********************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_runtime__;

/***/ }),

/***/ "@grafana/ui":
/*!******************************!*\
  !*** external "@grafana/ui" ***!
  \******************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "rxjs":
/*!***********************!*\
  !*** external "rxjs" ***!
  \***********************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_rxjs__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./module.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});;